<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="src/logo.png" type="image/x-icon" />
    <link rel="stylesheet" href="style.css">
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <title>Category - Quick Bite</title>
</head>

<body class="category-page">
    <div class="side-bar-category">
        <nav>
            <div class="logo">
                <img style="width: 50px; height: 48px; border-radius: 50%; margin-left: 2px;" src="src/logo.png"
                    alt="Quick Bite Logo" />
                <p1>QuickBite</p1>
            </div>

            <div class="indicator-category"></div>
            <div class="indicator_hover"></div>

            <a href="index.html">
                <img src="src/home.jpeg" class="navlink" style="margin-left: 25px;"></img>
                <p>Home</p>
            </a>
            <a href="#">
                <img src="src/category.jpg" class="navlink" style="width: 30px; height: 30px;"></img>
                <p>Categories</p>
            </a>
            <a href="#">
                <img src="src/heart.png" class="navlink" style="width: 35px; height: 25px; margin-left: 20px;"></img>
                <p>Favorites</p>
            </a>
            <a href="cart.html">
                <img src="src/cart.png" style="width: 30px; height: 25px; margin-left: 20px;" class="navlink"></img>
                <p>Cart</p>
            </a>
            <a href="account_info.html">
                <img src="https://img.icons8.com/ios7/512/FFFFFF/settings--v2.png"
                    style="width: 26px; height: 25px; margin-left: 25px;" class="navlink"></img>
                <p>Settings</p>
            </a>
            <hr class="category">
            <a class="bottom-a-nav-bar" href="#">
                <img src="https://img.icons8.com/m_outlined/512/FFFFFF/appointment-reminders.png"
                    class="navlink2"></img>
                <p2>Notifications</p2>
            </a>
            <a class="bottom-a-nav-bar" href="contact.html">
                <img src="src/call.png" class="navlink2"></img>
                <p2>Call us</p2>
            </a>
        </nav>

    </div>
    <div id="main-category" class="main-category">
        <div class="onboard">
            <h class="text1" style="color: orange; margin-left: 70px; font-size: 60px; font-weight: 600;">—</h>
            <h class="text1"
                style=" margin-left: 15px; font-size: 40px; font-family:Georgia, 'Times New Roman', Times, serif; font-weight: 600;transition: transform 1s ease;">
                Want to skip queues?</h>
            <h class="text2"
                style="margin-left: 150px; font-family:Georgia, 'Times New Roman', Times, serif; font-size: 24px; font-weight: 600;">
                Why wait? Just</h>
            <h class="text3"
                style="left: 230px; font-size: 16px; font-family: Poppins; position: absolute; width: 540px; margin-top: 150px;">
                Hunger doesn’t wait, so why should you? At QuickBite, we believe in delivering great food with no
                queues, no delays, and no stress. Just one tap and your meal is ready. It’s time to experience food that
                matches your speed.</h>
            <p8 class="text4">Quick Bite !</p8>


            <button id="order-now-redirect" class="order-now-redirect" type="submit">Order Now</button>
            <img class="holder" width="800px" style="position: absolute; right: -425px; top: -60px;"
                src="https://png.pngtree.com/png-clipart/20250124/original/pngtree-a-3d-circle-design-with-luxurious-yellow-outline-png-image_20015148.png"
                alt="">
            <img class="slider-food-2" width="345px" style="right: 120px; top: 150px; position: absolute;"
                src="https://b.zmtcdn.com/data/o2_assets/730b22db474bce8c6cb75e3b1218f2b91704371953.png" alt="">
            <img class="slider-food-1" width="190px" style="right: 20px; top: -30px; position: absolute;"
                src="https://b.zmtcdn.com/data/o2_assets/730b22db474bce8c6cb75e3b1218f2b91704371953.png" alt="">
            <img class="slider-food-3" width="190px" style="right: 20px; bottom: -50px; position: absolute;"
                src="https://b.zmtcdn.com/data/o2_assets/730b22db474bce8c6cb75e3b1218f2b91704371953.png" alt="">

        </div>

        <div class="main-category-section">
            <div class="top-main-category-sec">
                <div class="search">
                    <svg style="margin-left: 10px;" xmlns="http://www.w3.org/2000/svg" fill="#828282" width="19"
                        height="19" viewBox="0 0 20 20" aria-labelledby="icon-svg-title- icon-svg-desc-" role="img"
                        class="sc-rbbb40-0 iwHbVQ">
                        <title>Search</title>
                        <path
                            d="M19.78 19.12l-3.88-3.9c1.28-1.6 2.080-3.6 2.080-5.8 0-5-3.98-9-8.98-9s-9 4-9 9c0 5 4 9 9 9 2.2 0 4.2-0.8 5.8-2.1l3.88 3.9c0.1 0.1 0.3 0.2 0.5 0.2s0.4-0.1 0.5-0.2c0.4-0.3 0.4-0.8 0.1-1.1zM1.5 9.42c0-4.1 3.4-7.5 7.5-7.5s7.48 3.4 7.48 7.5-3.38 7.5-7.48 7.5c-4.1 0-7.5-3.4-7.5-7.5z">
                        </path>
                    </svg>
                    <input class="search-text" type="search" placeholder="Search for a cuisine or a dish">
                </div>
                <div class="logout">
                    <!-- <h style="font-size: 18px; font-family: Poppins; cursor: pointer;">Logout</h>
                    <img width="25px" style="cursor: pointer; margin-left: 5px;" src="https://assets.streamlinehq.com/image/private/w_300,h_300,ar_1/f_auto/v1/icons/c4/logout-31dva2zl3l9ao92pwnmgnt.png/logout-6bjs3s3fnciv7c0ye52y3l.png?_a=DATAg1AAZAA0" alt=""> -->
                    <a href="login-signup.html"><span
                            style="font-size: 18px; font-family: Poppins; cursor: pointer;">Login</span></a>
                    <a href="login-signup.html"><span
                            style="display: block; margin-left: 10px; font-size: 18px; font-family: Poppins; cursor: pointer;">Sign
                            Up</span></a>
                </div>
            </div>

            <div class="cart-hover">
                <span class="cart-top"
                    style="margin-bottom: 20px; margin-left: 5px; font-weight: 600; font-size: 20px; font-family: Poppins;">Your
                    Cart: 0 item</span>
                <img class="cart-expand-open" width="60px" src="https://www.svgrepo.com/show/305142/arrow-ios-back.svg"
                    alt="">
                <!-- <img style="width: 20px; margin-left: 90%;" src="cross.png"> -->
                <div class="cart-item-outer">
                    <div style="display: none;" class="cart-item">
                        <img src="https://content.jdmagicbox.com/v2/comp/mumbai/64/022pk047364/catalogue/joey-s-pizza-dn-nagar-andheri-west-mumbai-pizza-outlets-t3leni1d2c.jpg"
                            class="cart-item-img" />
                        <div class="cart-item-detail-container">
                            <label class="cart-item-name">Pizza</label>
                            <label class="cart-item-cal">200cal</label>
                        </div>

                        <label class="cart-item-price">₹0</label>
                        <button class="cart-item-add">Add</button>
                    </div>
                    <img class="no-items-img" src="src/no item.png"
                        style="width: 250px; margin-left: 55px; margin-bottom: 40px;" alt="">
                </div>

                <div class="cart-bottom">
                    <div class="total">
                        <label
                            style="color: #000;font-weight: 600;font-size: 16px;margin-left: 6px;font-family: Poppins;">Total
                            :</label>
                        <label class="cart-item-total">₹0</label>
                    </div>
                    <button class="buy">Buy now</button>
                </div>

            </div>


            <div class="filter-main-category">
                <div onclick="select()" id="filter" class="filter">
                    <img width="22px" style="margin-left: 15px; margin-bottom: 3px;"
                        src="https://www.svgrepo.com/show/445758/filter-horizontal.svg" alt="">
                    <span style="font-family: Poppins; margin-top: 10px; margin-left: 2px;">Filters</span>
                </div>
                <div class="filter">
                    <p6 style="font-family: Poppins; margin-top: 10px; margin-left: 10px;">Offers</p6>
                </div>
                <div class="filter">
                    <p6 style="font-family: Poppins; margin-top: 10px; margin-left: 10px;">Rating 4.5+</p6>
                </div>
                <div class="filter">
                    <p6 style="font-family: Poppins; margin-top: 10px; margin-left: 10px;">Upto 10% off</p6>
                </div>
                <div class="filter">
                    <p6 style="font-family: Poppins; margin-top: 10px; margin-left: 10px;">Max. Carbon Saver</p6>
                </div>
            </div>
            <img width="1000px" height="270px" style="cursor: pointer; margin-left: 50px;"
                src="https://b.zmtcdn.com/data/o2_assets/e067a1cf0d3fe27b366402b98b994e9f1716296909.png" alt="">

            <div class="food-types">
                <span
                    style="display: flex; align-items: center; gap: 62%; margin-bottom: 30px; margin-left: 15px; font-weight: 600; font-size: 20px; font-family: Poppins;">
                    Please select a type:
                    <img class="food-types-close" style="width: 30px; cursor: pointer;"
                        src="https://icons.veryicon.com/png/o/miscellaneous/medium-thin-linear-icon/cross-23.png"
                        alt="">
                </span>


                <div class="type-item">
                    <img src="https://content.jdmagicbox.com/v2/comp/mumbai/64/022pk047364/catalogue/joey-s-pizza-dn-nagar-andheri-west-mumbai-pizza-outlets-t3leni1d2c.jpg"
                        class="type-item-img" />
                    <div class="type-item-detail-container">
                        <label class="type-item-name">Pizza</label>
                        <label class="type-item-cal">200cal</label>
                    </div>

                    <label class="type-item-price">₹150</label>
                    <button class="type-item-add">Add</button>
                    <div class="item-num">
                        <img width="20px" src="https://cdn-icons-png.flaticon.com/512/992/992683.png" alt="">
                        <span class="item-count">10</span>
                        <img width="20px" src="https://cdn-icons-png.flaticon.com/512/262/262038.png" alt="">
                    </div>
                </div>

                <div class="type-item">
                    <img src="https://content.jdmagicbox.com/v2/comp/mumbai/64/022pk047364/catalogue/joey-s-pizza-dn-nagar-andheri-west-mumbai-pizza-outlets-t3leni1d2c.jpg"
                        class="type-item-img" />
                    <div class="type-item-detail-container">
                        <label class="type-item-name">Pizza</label>
                        <label class="type-item-cal">200cal</label>
                    </div>

                    <label class="type-item-price">₹100</label>
                    <button class="type-item-add">Add</button>
                </div>

                <div class="type-item">
                    <img src="https://content.jdmagicbox.com/v2/comp/mumbai/64/022pk047364/catalogue/joey-s-pizza-dn-nagar-andheri-west-mumbai-pizza-outlets-t3leni1d2c.jpg"
                        class="type-item-img" />
                    <div class="type-item-detail-container">
                        <label class="type-item-name">Pizza</label>
                        <label class="type-item-cal">200cal</label>
                    </div>

                    <label class="type-item-price">₹100</label>
                    <button class="type-item-add">Add</button>
                </div>

                <div class="type-item">
                    <img src="https://content.jdmagicbox.com/v2/comp/mumbai/64/022pk047364/catalogue/joey-s-pizza-dn-nagar-andheri-west-mumbai-pizza-outlets-t3leni1d2c.jpg"
                        class="type-item-img" />
                    <div class="type-item-detail-container">
                        <label class="type-item-name">Pizza</label>
                        <label class="type-item-cal">200cal</label>
                    </div>

                    <label class="type-item-price">₹100</label>
                    <button class="type-item-add">Add</button>
                </div>

            </div>

            <div class="product-row-cat">
                <div class="product-card-cat">
                    <img src="https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_366/RX_THUMBNAIL/IMAGES/VENDOR/2024/6/26/d112a6d7-d173-4ca7-a5ee-40f845719d18_880921.JPG"
                        alt="Pizza" />
                    <p3 class="bestsellers_caption-cat">Pizza<br />from ₹100</p3>
                </div>
                <div class="product-card-cat">
                    <img src="https://media-assets.swiggy.com/swiggy/image/upload/f_auto,q_auto,fl_lossy/on1crtnply8qhxnxavgc"
                        alt="Fried Rice" />
                    <p3 class="bestsellers_caption-cat">Fried Rice<br />from ₹159</p3>
                </div>
                <div class="product-card-cat">
                    <img src="https://danosseasoning.com/wp-content/uploads/2022/03/Beef-Tacos-1024x767.jpg"
                        alt="Taco" />
                    <p3 class="bestsellers_caption-cat">Taco<br />from ₹59</p3>
                </div>

            </div>

            <button id="addCardBtn">Add Product Card</button>

            <div id="cardsContainer" style="display: flex; gap: 15px; flex-wrap: wrap; margin-top: 20px;">
                <!-- New cards will appear here -->
            </div>


            <label
                style="font-size: 28px; font-family: Poppins; font-weight: 700; margin-left: 500px; margin-top: 220px;">Our
                Combos </label>
            <div class="product-row-comb">
                <div class="product-card-comb">
                    <img src="https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_366/RX_THUMBNAIL/IMAGES/VENDOR/2024/6/26/d112a6d7-d173-4ca7-a5ee-40f845719d18_880921.JPG"
                        alt="Pizza" />
                    <p3 class="bestsellers_caption-cat">Pizza<br />from ₹100</p3>
                </div>
                <div class="product-card-comb">
                    <img src="https://media-assets.swiggy.com/swiggy/image/upload/f_auto,q_auto,fl_lossy/on1crtnply8qhxnxavgc"
                        alt="Fried Rice" />
                    <p3 class="bestsellers_caption-cat">Fried Rice<br />from ₹159</p3>
                </div>
                <div class="product-card-comb">
                    <img src="https://danosseasoning.com/wp-content/uploads/2022/03/Beef-Tacos-1024x767.jpg"
                        alt="Taco" />
                    <p3 class="bestsellers_caption-cat">Taco<br />from ₹59</p3>
                </div>
                <div class="product-card-comb">
                    <img src="https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_366/RX_THUMBNAIL/IMAGES/VENDOR/2024/6/26/d112a6d7-d173-4ca7-a5ee-40f845719d18_880921.JPG"
                        alt="Pizza" />
                    <p3 class="bestsellers_caption-cat">Pizza<br />from ₹100</p3>
                </div>

            </div>

        </div>

    </div>
    <div class="notification">
        <span style="font-family: Poppins; font-size: 20px; font-weight: 600;">Notifications</span>
        <span style="cursor: pointer; color: blue; font-family: Poppins; margin-left: 175px;">close</span>
        <img style="display: block; margin-left: 110px;" width="130px" src="src/no noti.png" alt="">
        <span style="display: block; color: grey; font-family: Poppins; font-size: 16px; margin-top: 30px;">You didn't
            receive any notification till now.</span>
    </div>

    <script src="script.js" defer></script>

    <!-- DYNAMIC CARD MAKING -->
    <script>
        document.getElementById('addCardBtn').addEventListener('click', function () {
            const container = document.getElementById('cardsContainer');

            const cardDiv = document.createElement('div');
            cardDiv.className = 'product-card-cat';

            const img = document.createElement('img');
            img.src = 'https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_366/RX_THUMBNAIL/IMAGES/VENDOR/2024/6/26/d112a6d7-d173-4ca7-a5ee-40f845719d18_880921.JPG';
            img.alt = 'Pizza';

            const caption = document.createElement('p3');
            caption.className = 'bestsellers_caption-cat';
            caption.innerHTML = 'Pizza<br />from ₹100';

            cardDiv.appendChild(img);
            cardDiv.appendChild(caption);

            container.appendChild(cardDiv);
        });
    </script>


    <!-- SENDING ITEMS TO CART BACKEND

    FIRST FOOD TYPES OPENER -->
    <script>

        window.addEventListener('DOMContentLoaded', () => {

            const foodTypes = document.querySelector(".food-types");
            const foodTypesCloseBtn = document.querySelector(".food-types-close");
            const productCards = document.querySelectorAll('.product-card-cat');
            const typeItems = document.querySelectorAll('.type-item');
            const cartItemsContainer = document.querySelector('.cart-item-outer');
            const cartTotalLabel = document.querySelector('.cart-item-total');
            const buyBtn = document.querySelector('.buy');
            const noItemImg = document.querySelector('.no-items-img');
            const noOfItems = document.querySelector('.cart-top');

            let selectedProduct = null;

            // Open food-types with proper animation every time
            productCards.forEach(card => {
                card.addEventListener('click', () => {
                    selectedProduct = {
                        img: card.querySelector('img').src,
                        name: card.querySelector('p3').innerText.split('\n')[0],
                        price: card.querySelector('p3').innerText.split('from ₹')[1]
                    };

                    foodTypes.classList.remove('anim');
                    foodTypes.style.display = 'block';

                    // Force reflow to reset animation
                    void foodTypes.offsetWidth;

                    foodTypes.classList.add('anim');
                    foodTypes.style.maxHeight = '70vh'; // Ensures it fully opens
                    foodTypes.style.transition = 'all 0.3s ease-in-out';
                });
            });

            // Close food-types
            foodTypesCloseBtn.addEventListener('click', () => {
                foodTypes.classList.remove('anim');
                foodTypes.style.maxHeight = '0';
                setTimeout(() => {
                    foodTypes.style.display = 'none';
                }, 300);
                selectedProduct = null;
            });

            // Add selected type-item to cart
            typeItems.forEach(typeItem => {
                typeItem.addEventListener('click', () => {
                    if (!selectedProduct) return;

                    const typeImg = typeItem.querySelector('img').src;
                    const typeName = typeItem.querySelector('.type-item-name').innerText;
                    const typeCal = typeItem.querySelector('.type-item-cal').innerText;
                    const typePrice = typeItem.querySelector('.type-item-price').innerText;

                    const cartItem = document.createElement('div');
                    cartItem.classList.add('cart-item');

                    cartItem.innerHTML = `
                <img src="${typeImg}" class="cart-item-img" />
                <div class="cart-item-detail-container">
                    <label class="cart-item-name">${typeName}</label>
                    <label class="cart-item-cal">${typeCal}</label>
                </div>
                <label class="cart-item-price">${typePrice}</label>
                <button class="cart-item-add">Add</button>
            `;

                    cartItemsContainer.appendChild(cartItem);

                    updateCartTotal();
                    foodTypes.classList.remove('anim');
                    foodTypes.style.maxHeight = '0';
                    setTimeout(() => {
                        foodTypes.style.display = 'none';
                    }, 300);

                    selectedProduct = null;
                });
            });


            function updateCartTotal() {
                const prices = document.querySelectorAll('.cart-item-price');
                let total = 0;

                prices.forEach(priceEl => {
                    const price = parseInt(priceEl.innerText.replace('₹', ''));
                    total += price;
                });

                cartTotalLabel.innerText = `₹${total}`;

                const CartItemCount = prices.length - 1;
                noOfItems.innerText = `Your Cart: ${CartItemCount} item${CartItemCount > 1 ? 's' : ''}`;

                if (total === 0) {
                    buyBtn.style.cursor = "default";
                    cartItemsContainer.style.maxHeight = "25vh";
                    noItemImg.style.display = "block";
                } else {
                    buyBtn.style.cursor = "pointer";
                    noItemImg.style.display = "none";
                }
            }

            cartItemsContainer.addEventListener('mousedown', (e) => {
                if (!e.target.closest('.cart-item')) return;

                const cartItem = e.target.closest('.cart-item');
                let startX = e.clientX;
                let currentX = startX;

                document.body.style.userSelect = 'none';  // Prevent text selection

                function onMouseMove(e) {
                    currentX = e.clientX;
                    const deltaX = currentX - startX;
                    cartItem.style.transform = `translateX(${deltaX}px)`;
                }

                function onMouseUp(e) {
                    const deltaX = currentX - startX;

                    document.removeEventListener('mousemove', onMouseMove);
                    document.removeEventListener('mouseup', onMouseUp);

                    document.body.style.userSelect = 'auto';  // Re-enable text selection

                    if (Math.abs(deltaX) > 150) {  // If dragged far enough

                        cartItem.remove();
                        updateCartTotal();
                    } else {
                        cartItem.style.transform = `translateX(0)`;  // Reset back
                    }
                }

                document.addEventListener('mousemove', onMouseMove);
                document.addEventListener('mouseup', onMouseUp);
            });

        });

    </script>


</body>

</html>